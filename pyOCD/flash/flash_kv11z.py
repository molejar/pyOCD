"""
 Flash OS Routines (Automagically Generated)
 Copyright (c) 2009-2015 ARM Limited
 
 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at
 
     http://www.apache.org/licenses/LICENSE-2.0
 
 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
""" 

from flash_kinetis import Flash_Kinetis

flash_algo = { 
    'load_address' : 0x20000000,
    'instructions' : [
    0xE00ABE00, 0x062D780D, 0x24084068, 0xD3000040, 0x1E644058, 0x1C49D1FA, 0x2A001E52, 0x4770D1F2,
    0x09032200, 0xd32c428b, 0x428b0a03, 0x2300d311, 0xe04e469c, 0x430b4603, 0x2200d43c, 0x428b0843, 
    0x0903d331, 0xd31c428b, 0x428b0a03, 0x4694d301, 0x09c3e03f, 0xd301428b, 0x1ac001cb, 0x09834152, 
    0xd301428b, 0x1ac0018b, 0x09434152, 0xd301428b, 0x1ac0014b, 0x09034152, 0xd301428b, 0x1ac0010b, 
    0x08c34152, 0xd301428b, 0x1ac000cb, 0x08834152, 0xd301428b, 0x1ac0008b, 0x08434152, 0xd301428b, 
    0x1ac0004b, 0x1a414152, 0x4601d200, 0x46104152, 0xe05d4770, 0xd0000fca, 0x10034249, 0x4240d300, 
    0x22004053, 0x0903469c, 0xd32d428b, 0x428b0a03, 0x22fcd312, 0xba120189, 0x428b0a03, 0x0189d30c, 
    0x428b1192, 0x0189d308, 0x428b1192, 0x0189d304, 0x1192d03a, 0x0989e000, 0x428b09c3, 0x01cbd301, 
    0x41521ac0, 0x428b0983, 0x018bd301, 0x41521ac0, 0x428b0943, 0x014bd301, 0x41521ac0, 0x428b0903, 
    0x010bd301, 0x41521ac0, 0x428b08c3, 0x00cbd301, 0x41521ac0, 0x428b0883, 0x008bd301, 0x41521ac0, 
    0x0843d2d9, 0xd301428b, 0x1ac0004b, 0x1a414152, 0x4601d200, 0x41524663, 0x4610105b, 0x4240d301, 
    0xd5002b00, 0x47704249, 0x105b4663, 0x4240d300, 0x2000b501, 0x46c046c0, 0x0000bd02, 0xb5104809, 
    0x44484907, 0xf902f000, 0xd1050004, 0x21004805, 0xf0004448, 0x4604f9c9, 0xf86af000, 0xbd104620, 
    0x6b65666b, 0x00000004, 0x4e0bb570, 0x444e4605, 0x4b0a4601, 0x68f24630, 0xf8aef000, 0xd1060004, 
    0x46292300, 0x68f24630, 0xf976f000, 0xf0004604, 0x4620f84f, 0x0000bd70, 0x00000004, 0x6b65666b, 
    0x4809b510, 0x81c14907, 0x81c14908, 0x08498801, 0x80010049, 0x44484806, 0xf8fef000, 0xd0002800, 
    0xbd102001, 0x0000c520, 0x40052000, 0x0000d928, 0x00000004, 0x460db5fe, 0x4607460b, 0x480b4601, 
    0x44484616, 0xf910f000, 0xd10b0004, 0x90029001, 0x48062101, 0x46339100, 0x4639462a, 0xf0004448, 
    0x4604f981, 0xf814f000, 0xbdfe4620, 0x00000004, 0x47702000, 0x4674b430, 0x78251e64, 0x42ab1c64, 
    0x461dd200, 0x005b5d63, 0xbc3018e3, 0x00004718, 0x68c14803, 0x02922201, 0x60c14311, 0x00004770, 
    0xf0003000, 0xd0082800, 0xd802290f, 0xd1042a04, 0x2913e005, 0x2a08d801, 0x2004d001, 0x20004770, 
    0xb5104770, 0xd0062800, 0x42191e5b, 0x421ad101, 0x2065d003, 0x2004bd10, 0x6803bd10, 0xd804428b, 
    0x18896840, 0x42881818, 0x2066d201, 0x2000bd10, 0x0000bd10, 0x42884903, 0x206bd001, 0x20004770, 
    0x00004770, 0x6b65666b, 0x2170480a, 0x21807001, 0x78017001, 0xd5fc0609, 0x06817800, 0x2067d501, 
    0x06c14770, 0x2068d501, 0x07c04770, 0x2069d0fc, 0x00004770, 0x40020000, 0x4606b5f8, 0x460c4617, 
    0xf7ff4618, 0x2800ffd7, 0x2304d12a, 0x4621463a, 0xf7ff4630, 0x0005ffb6, 0x19e7d122, 0x1e7f68f1, 
    0x91004638, 0xfe6cf7ff, 0xd0162900, 0x1c409f00, 0x1e7f4347, 0x480be011, 0x68004478, 0x490a6004, 
    0x71c82009, 0xffc0f7ff, 0x69b04605, 0xd0002800, 0x2d004780, 0x68f0d103, 0x42bc1904, 0x4628d9eb, 
    0x0000bdf8, 0x0000026c, 0x40020000, 0x4604b510, 0xf7ff4608, 0x2800ff9f, 0x2c00d106, 0x4904d005, 
    0x71c82044, 0xffa0f7ff, 0x2004bd10, 0x0000bd10, 0x40020000, 0x2800b500, 0x2a00d009, 0x000bd007, 
    0xff48f7ff, 0x0b0b0708, 0x13110f0d, 0x20041715, 0x68c0bd00, 0x20006010, 0x6840bd00, 0x6880e7fa, 
    0x6800e7f8, 0x2001e7f6, 0x6900e7f4, 0x6940e7f2, 0x206ae7f0, 0x0000bd00, 0x2800b510, 0x490fd019, 
    0x4a0f68c9, 0x00490e09, 0x5a51447a, 0xd0120309, 0x60032300, 0x21016041, 0x02896081, 0x490960c1, 
    0x158a7a0c, 0x610240a2, 0x61837ac9, 0x46186141, 0x2004bd10, 0x2064bd10, 0x0000bd10, 0x40048040, 
    0x0000019c, 0x40020020, 0xb081b5ff, 0x0015461e, 0xd007460f, 0x46322304, 0xf7ff9801, 0x0004ff22, 
    0xe018d101, 0xb0052004, 0x480dbdf0, 0x68014478, 0xcd02600f, 0x60416800, 0x2006490a, 0xf7ff71c8, 
    0x4604ff33, 0x69809801, 0xd0002800, 0x2c004780, 0x1f36d103, 0x2e001d3f, 0x4620d1e7, 0x0000e7e3, 
    0x00000158, 0x40020000, 0xd0022800, 0x20006181, 0x20044770, 0x00004770, 0xb081b5ff, 0x460f4615, 
    0x23044604, 0xfeedf7ff, 0xd1272800, 0x686068a1, 0xfda6f7ff, 0x42799000, 0x40014240, 0x42be424e, 
    0x9800d101, 0x2d001836, 0x1bf4d017, 0xd90042ac, 0x490b462c, 0x447908a0, 0x600f6809, 0x22014909, 
    0x0a0271ca, 0x728872ca, 0x72489804, 0xfeecf7ff, 0xd1032800, 0x193f1b2d, 0x2000e7e3, 0xbdf0b005, 
    0x000000ce, 0x40020000, 0x2800b510, 0x4804d006, 0x71c22240, 0xf7ff7181, 0xbd10fed7, 0xbd102004, 
    0x40020000, 0x9f08b5f8, 0x4616001c, 0xd005460d, 0xf7ff2304, 0x2800fea6, 0xe01dd101, 0xbdf82004, 
    0x447a4a0f, 0x60056810, 0x2102480e, 0x990671c1, 0x681172c1, 0x60886820, 0xfeb6f7ff, 0xd0082800, 
    0x29009907, 0x600dd000, 0xd0e82f00, 0x60392100, 0x1d24bdf8, 0x1f361d2d, 0xd1e12e00, 0x0000bdf8, 
    0x00000062, 0x40020000, 0x00040002, 0x00080000, 0x00100000, 0x00200000, 0x00400000, 0x00000000, 
    0x00000000, 0x00200000, 0x40020004, 0x00000000, 
    ],
    
    'pc_init' : 0x200001E1,
    'pc_unInit': 0x20000251,
    'pc_program_page': 0x20000215,
    'pc_erase_sector': 0x200001A9,
    'pc_eraseAll' : 0x2000017D,

    'static_base' : 0x20000000 + 0x00000020 + 0x000005ac,
    'begin_stack' : 0x20000000 + 0x00000800,            
    'begin_data' : 0x20000000 + 0x00001000,
    'page_size' : 0x00000800,
    'analyzer_supported' : True,
    'analyzer_address' : 0x1ffff000  # ITCM, Analyzer 0x00000000..0x000000600
};
              
class Flash_kv11z(Flash_Kinetis): 
    def __init__(self, target):
        super(Flash_kv11z, self).__init__(target, flash_algo)
